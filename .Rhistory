values_to = "value") %>%
group_by(new_flake_id,variable) %>%
summarize_all(CV)
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
mutate(cv_avr=CV(value))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable)
mutate(cv_avr=CV(value)) %>%
dataCV <- data1 %>%
group_by(cond_flake_id) %>%
mutate(cvmass = CV(mass),
cvmaxdim = CV(maximumdimension),
cvmaxW = CV(maximumwidth),
cvmaxT = CV(maximumthickness),
cvtechL = CV(techlength),
cvtechmaxW = CV(techmaxwidth),
cvtechmaxT = CV(techmaxthickness),
cvtechwidthprox = CV(techwidthprox),
cvtechwidthmes = CV(techwidthmes),
cvtechwidthdist = CV(techwidthdist),
cvtechthickprox = CV(techthickprox),
cvtechthickdist = CV(techthickdist),
cvplatfwidth = CV(platfwidth),
cvplatfthickimpact = CV(platfthickimpact),
cvplatfthickmax = CV(platfthickmax),
cvplatfthickmid = CV(platfthickmid),
cvedgeplatf = CV(edgeplatf),
cvangle_height = CV(angle_height))
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv_avr=CV(value))
View(test)
#### Coefficient of variation summary ####
library(EnvStats)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv_avr=cv(value))
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv_avr=cv(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv_avr=sum(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
group_by(variable) %>%
mutate(cv_avr=sum(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv_avr=sum(value, na.rm=T))
?pivot_longer
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value")
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv_avr=cv(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_avr=cv(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T)) %>%
ungroup() %>%
mutate(cv_subject_if_variable=cv(value, na.rm=T))
View(test)
mutate(cv_variable_flake_id=cv(value, na.rm=T))
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T)) %>%
ungroup()
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T)) %>%
ungroup() %>%
group_by(variable,new_flake_id)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T)) %>%
ungroup() %>%
group_by(variable,new_flake_id) %>%
mutate(cv_variable_flake_id=cv(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,analyst_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id & !analyst_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T))
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T),
mean=mean(value, na.rm=T))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T))
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T))
?min
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T))
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,variable)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv_flakeid_variable=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,variable,.keep_all=T)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,variable,)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,variable,cv,mean,sd,min,max,median)
View(test)
View(comsafrica_data_complete)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
na_if(0) %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median)
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value")
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
na_if(4:21,0) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
na_if([4:21],0) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
na_if(c[4:21],0)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
mutate(across(c(4:21), na_if, 0))
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
mutate(across(c(4:21), na_if, 0)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median)
View(test)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
mutate(across(c(4:21), na_if, 0)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median) %>%
round_df(3)
round_df <- function(x, digits) {
# round all numeric variables
# x: data frame
# digits: number of digits to round
numeric_columns <- sapply(x, mode) == 'numeric'
x[numeric_columns] <-  round(x[numeric_columns], digits)
x
}
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
mutate(across(c(4:21), na_if, 0)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median) %>%
round_df(3)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
mutate(across(c(4:21), na_if, 0)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T)) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median) %>%
round_df(2)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
mutate(across(c(4:21), na_if, 0)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T),
range=max-min) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median) %>%
round_df(2)
test<- comsafrica_data_complete %>%
select(c(new_flake_id,assemblage_code,dorsal_cortex,mass,maximumdimension,maximumwidth,maximumthickness,techlength,techmaxwidth,techmaxthickness,
techwidthprox,techwidthmes,techwidthdist,techthickprox,techthickmes,techthickdist,
platfwidth,platfthickimpact,platfthickmid,platfthickmax,edgeplatf)) %>%
mutate(across(c(4:21), na_if, 0)) %>%
pivot_longer(!new_flake_id &!assemblage_code,
names_to = "variable",
values_to = "value") %>%
group_by(new_flake_id,variable) %>%
mutate(cv=cv(value, na.rm=T),
mean=mean(value, na.rm=T),
sd=sd(value, na.rm=T),
min=min(value, na.rm=T),
max=max(value, na.rm=T),
median=median(value, na.rm=T),
range=max-min) %>%
distinct(new_flake_id,assemblage_code,variable,cv,mean,sd,min,max,median,range) %>%
round_df(2)
ggplot(data=filter(test,variable=="maximumdimension"), aes(x=sd)) +
+ geom_histogram()
ggplot(data=filter(test,variable=="maximumdimension"), aes(x=sd)) +
geom_histogram()
